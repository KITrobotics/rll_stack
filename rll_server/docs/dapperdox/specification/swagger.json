{
  "swagger": "2.0",
  "x-navigateMethodsByName": true,
  "info": {
    "version": "0.1.0",
    "title": "Robot Learning Lab"
  },
  "host": "localhost:8888",
  "tags": [{
        "name": "jobs",
        "description": "Management of Jobs"
        
}],
  "paths": {
    "/jobs": {
      "get": {
        "tags": ["jobs"],
        "summary": "Get status of job or logs for job",
        "description": "",
        "operationId": "getJobs",
        "parameters": [
          {
            "name": "op",
            "in": "query",
            "description": "What operation should be performed",
            "required": true,
            "type": "string",
            "enum": [
              "status",
              "logs"
            ]
          },
          {
            "name": "job",
            "in": "query",
            "description": "Job Id to perform operation on",
            "required": true,
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "Response of the call",
            "schema": {
              "title": "JobStatus",
              "required": [
                "status",
                "job_status",
                "job_result"
              ],
              "properties": {
                "status": {
                  "type": "string",
                  "description": "Status of query",
                  "enum": [
                    "success"
                  ]
                },
                "job_status": {
                  "type": "string",
                  "description": "Status of job",
                  "enum": [
                    "submitted",
                    "running",
                    "finished"
                  ]
                },
                "job_result": {
                  "type": "string",
                  "description": "Result of executed job",
                  "enum": [
                    "success",
                    "failed"
                  ]
                }
              }
            }
          },
          "400": {
            "description": "Bad Request"
          }
        }
      },
      "post": {
        "tags": ["jobs"],
        "summary": "Submit a job",
        "description": "",
        "operationId": "submitJob",
        "parameters": [
          {
            "name": "op",
            "description": "Operation to perform",
            "in": "query",
            "required": true,
            "type": "string",
            "enum": [
              "submit"
            ]
          },
          {
            "name": "username",
            "description": "Username of User",
            "in": "query",
            "required": true,
            "type": "string"
          },
          {
            "name": "secret",
            "description": "Password of User",
            "in": "query",
            "required": true,
            "type": "string",
            "format": "password"
          },
          {
            "name": "project",
            "description": "Name of project",
            "in": "query",
            "required": true,
            "type": "string"
          },
          {
            "name": "git_url",
            "description": "Url to git repository",
            "in": "query",
            "required": true,
            "type": "string"
          },
          {
            "name": "git_tag",
            "description": "Tag to checkout",
            "in": "query",
            "required": true,
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "Response for submission",
            "schema": {
              "title": "JobStatus",
              "required": [
                "status",
                "job_id"
              ],
              "properties": {
                "status": {
                  "type": "string",
                  "description": "Status of query"
                },
                "job_id": {
                  "type": "string",
                  "description": "Job id of submitted job"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request"
          },
          "401": {
            "description": "Unauthorized"
          }
        }
      }
    }
  },
  "definitions": {
    "JobStatus": {
      "title": "JobStatus",
      "required": [
        "status",
        "job_status",
        "job_result"
      ],
      "properties": {
        "status": {
          "type": "string",
          "description": "Status of query",
          "enum": [
            "success"
          ]
        },
        "job_status": {
          "type": "string",
          "description": "Status of job",
          "enum": [
            "submitted",
            "running",
            "finished"
          ]
        },
        "job_result": {
          "type": "string",
          "description": "Result of executed job",
          "enum": [
            "success",
            "failed"
          ]
        }
      }
    },
    "Error": {
      "title": "Error",
      "required": [
        "status",
        "error"
      ],
      "properties": {
        "status": {
          "type": "string",
          "description": "Status of query",
          "enum": [
            "error"
          ]
        },
        "error": {
          "type": "string",
          "description": "Description of error"
        }
      }
    },
    "JobSubmission": {
      "title": "JobStatus",
      "required": [
        "status",
        "job_id"
      ],
      "properties": {
        "status": {
          "type": "string",
          "description": "Status of query"
        },
        "job_id": {
          "type": "string",
          "description": "Job id of submitted job"
        }
      }
    }
  }
}